{% extends 'base.html.twig' %}

{% block title %}Récapitulatif inscription{% endblock %}

{% block body %}
    <div class="recap-wrapper">
        <h1>Récapitulatif de l'inscription</h1>

        <div class="recap-section recap-section--user">
            <div class="section-header">
                <h2>Informations responsable principal</h2>
                <a href="{{ path('app_inscription_edit_user', {'id': user.id}) }}" class="form-button form-button--edit">
                    <i class="fas fa-edit"></i> Modifier
                </a>
            </div>
            <div class="section-content">
                <p><span>Nom :</span> {{ user.name }}</p>
                <p><span>Prénom :</span> {{ user.firstName }}</p>
                <p><span>Email :</span> {{ user.email }}</p>
                <p><span>Téléphone :</span> {{ user.phone }}</p>
                <p><span>Lien avec l'enfant :</span> {{ userChild.relation }}</p>
            </div>
        </div>

        {% if recovery %}
            <div class="recap-section recap-section--user">
                <div class="section-header">
                    <h2>Informations accompagnateur</h2>
                    <a href="{{ path('app_inscription_edit_recovery', {'id': recovery.id}) }}" class="form-button form-button--edit">
                        <i class="fas fa-edit"></i> Modifier
                    </a>
                </div>
                <div class="section-content section-content--user">
                    <p><span>Nom :</span> {{ recovery.name }}</p>
                    <p><span>Prénom :</span> {{ recovery.firstName }}</p>
                    <p><span>Email :</span> {{ recovery.email }}</p>
                    <p><span>Téléphone :</span> {{ recovery.phone }}</p>
                    <p><span> lien avec l'enfant :</span> {{ recoveryChild.relation }}</p>
                    <p><span>Responsable légal :</span> {{ recoveryChild.isResponsable ? 'Oui' : 'Non' }}</p>
                </div>
            </div>
        {% endif %}

        <div class="recap-section recap-section--child">
            <div class="section-header">
                <h2>Informations enfant</h2>
                <a href="{{ path('app_inscription_edit_child', {'id': child.id}) }}" class="form-button form-button--edit">
                    <i class="fas fa-edit"></i> Modifier
                </a>
            </div>
            <div class="section-content section-content--child">
                <p><span>Nom :</span> {{ child.name }}</p>
                <p><span>Prénom :</span> {{ child.firstName }}</p>
                <p><span>Date de naissance :</span> {{ child.birthDate|date('d/m/Y') }}</p>
                <p><span>Genre :</span> {{ child.genre }}</p>
                <p><span>Allergies :</span> {{ child.allergy ?? 'Aucune' }}</p>
                <p><span>Spécificités médicales :</span> {{ child.medicalSpecificity ?? 'Aucune' }}</p>
            </div>

            <div class="recap-section recap-section--planning">
                <h3>Planning hebdomadaire</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Jour</th>
                            <th>Arrivée</th>
                            <th>Départ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Lundi</td>
                            <td>{{ child.lundiA ? child.lundiA|date('H:i') : '-' }}</td>
                            <td>{{ child.lundiD ? child.lundiD|date('H:i') : '-' }}</td>
                        </tr>
                        <tr>
                            <td>Mardi</td>
                            <td>{{ child.mardiA ? child.mardiA|date('H:i') : '-' }}</td>
                            <td>{{ child.mardiD ? child.mardiD|date('H:i') : '-' }}</td>
                        </tr>
                        <tr>
                            <td>Mercredi</td>
                            <td>{{ child.mercrediA ? child.mercrediA|date('H:i') : '-' }}</td>
                            <td>{{ child.mercrediD ? child.mercrediD|date('H:i') : '-' }}</td>
                        </tr>
                        <tr>
                            <td>Jeudi</td>
                            <td>{{ child.jeudiA ? child.jeudiA|date('H:i') : '-' }}</td>
                            <td>{{ child.jeudiD ? child.jeudiD|date('H:i') : '-' }}</td>
                        </tr>
                        <tr>
                            <td>Vendredi</td>
                            <td>{{ child.vendrediA ? child.vendrediA|date('H:i') : '-' }}</td>
                            <td>{{ child.vendrediD ? child.vendrediD|date('H:i') : '-' }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="text-center mt-4">
            <a href="{{ path('app_administration') }}" class="form-button form-button--submit">Terminer l'inscription</a>
        </div>
    </div>
{% endblock %}
